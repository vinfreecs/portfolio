---
import Navbar from "../components/Navbar.astro";
import Section from "../components/Section.astro";
import Card from "../components/Card.astro";
import resume from "../load/resume";
import "../styles/global.css";

// For readability
const { basics, links, education, work, projects, skills } = resume;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{basics.name} – Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body class="bg-gray-950 text-gray-100">
    <Navbar />

    <main class="max-w-6xl mx-auto px-6 md:px-10">
      <!-- Hero -->
      <section class="pt-12 md:pt-16 pb-6">
        <h1 class="text-3xl md:text-4xl font-extrabold">{basics.name}</h1>
        <p class="mt-2 text-gray-300">{basics.summary || "Portfolio of my work and studies."}</p>
        <div class="mt-4 flex gap-3">
          {links.map((l) => (
            <a href={l.url} class="rounded-xl bg-blue-600 hover:bg-blue-700 px-4 py-2" target="_blank">
              {l.label}
            </a>
          ))}
        </div>
      </section>

      <!-- Education -->
      <Section id="education" title="Education">
        <div class="grid sm:grid-cols-2 gap-4">
          {education.map((e) => (
            <Card
              title={`${e.degree} – ${e.field}`}
              subtitle={`${e.institution} (${e.startDate} – ${e.endDate})`}
              desc={`GPA/Grade: ${e.gpa}`}
            />
          ))}
        </div>
      </Section>

      <!-- Experience -->
      <Section id="experience" title="Experience">
        <div class="grid sm:grid-cols-2 gap-4">
          {work.map((w) => (
            <Card
              title={`${w.position} @ ${w.company}`}
              subtitle={`${w.startDate} – ${w.endDate}`}
              desc={w.highlights.join(" • ")}
            />
          ))}
        </div>
      </Section>

      <!-- Projects -->
      <Section id="projects" title="Projects">
        <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-4">
          {projects.map((p) => (
            <Card
              title={p.name}
              subtitle={p.tech.join(", ")}
              desc={p.summary}
              href={p.url}
            />
          ))}
        </div>
      </Section>

      <!-- Skills -->
      <Section id="skills" title="Skills">
        <ul class="flex flex-wrap gap-2">
          {skills.map((cat) =>
            cat.keywords.map((s) => (
              <li class="px-3 py-1 rounded-full bg-white/5 border border-white/10 text-sm">
                {s}
              </li>
            ))
          )}
        </ul>
      </Section>
    </main>
  </body>
</html>
